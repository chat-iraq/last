webpackJsonp([2],{

/***/ 368:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(4);\n\nvar _reactModal = __webpack_require__(272);\n\nvar _reactModal2 = _interopRequireDefault(_reactModal);\n\nvar _helpers = __webpack_require__(5);\n\nvar _setWallCommentsVisibilityAction = __webpack_require__(282);\n\nvar _EmojiPicker = __webpack_require__(269);\n\nvar _EmojiPicker2 = _interopRequireDefault(_EmojiPicker);\n\nvar _setWallCommentsFacePickerVisibilityAction = __webpack_require__(292);\n\nvar _Emoji = __webpack_require__(78);\n\nvar _Emoji2 = _interopRequireDefault(_Emoji);\n\nvar _users = __webpack_require__(34);\n\nvar _setProfileVisibilityAction = __webpack_require__(79);\n\nvar _Username = __webpack_require__(76);\n\nvar _Username2 = _interopRequireDefault(_Username);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n_reactModal2.default.setAppElement('#app');\n\nvar WallComments = function (_React$Component) {\n    _inherits(WallComments, _React$Component);\n\n    function WallComments(props) {\n        _classCallCheck(this, WallComments);\n\n        var _this = _possibleConstructorReturn(this, (WallComments.__proto__ || Object.getPrototypeOf(WallComments)).call(this, props));\n\n        _this.avatarWidth = 30;\n        _this.avatarHeight = 30;\n\n        _this.customStyles = {\n            content: {\n                top: '2%',\n                left: '50%',\n                right: 'auto',\n                bottom: 'auto',\n                maxWidth: '340px',\n                padding: \"0\",\n                marginRight: '-50%',\n                overflow: 'unset',\n                transform: 'translate(-50%, -0%)',\n                maxHeight: '96%'\n            },\n            overlay: {\n                background: \"rgba(0, 0, 0, 0.4)\"\n            }\n        };\n\n        _this.onYoutubeBtnClicked = _this.onYoutubeBtnClicked.bind(_this);\n        _this.renderPostBody = _this.renderPostBody.bind(_this);\n        _this.renderPostComment = _this.renderPostComment.bind(_this);\n        _this.scrollToBottom = _this.scrollToBottom.bind(_this);\n        _this.afterOpenModal = _this.afterOpenModal.bind(_this);\n        _this.openFacePicker = _this.openFacePicker.bind(_this);\n        _this.sendComment = _this.sendComment.bind(_this);\n        _this.closeModal = _this.closeModal.bind(_this);\n        _this.getProfile = _this.getProfile.bind(_this);\n        _this.remove = _this.remove.bind(_this);\n        _this.like = _this.like.bind(_this);\n\n        _this.state = { comments: [], isTextMessageSending: false };\n        return _this;\n    }\n\n    _createClass(WallComments, [{\n        key: 'afterOpenModal',\n        value: function afterOpenModal() {}\n    }, {\n        key: 'closeModal',\n        value: function closeModal() {\n            this.props.dispatch((0, _setWallCommentsVisibilityAction.setWallCommentsVisibility)(false));\n        }\n    }, {\n        key: 'onYoutubeBtnClicked',\n        value: function onYoutubeBtnClicked(e, post_id, yt_id) {\n            e.stopPropagation();\n            try {\n\n                var link = \"https://www.youtube.com/embed/\" + yt_id + \"?autoplay=1\";\n\n                var button = document.getElementById(\"yt-btn-\" + post_id);\n                if (button) {\n                    button.insertAdjacentHTML(\"afterend\", '<iframe width=\"95%\" style=\"max-width:240px;\" height=\"200\" src=\"' + link + '\" frameborder=\"0\" allowfullscreen></iframe><br />');\n                    button.remove();\n                }\n            } catch (e) {}\n        }\n    }, {\n        key: 'renderPostBody',\n        value: function renderPostBody() {\n            var _this2 = this;\n\n            switch (this.props.post.type) {\n                case \"text\":\n                    return _react2.default.createElement(\n                        'span',\n                        { className: 'wall_post__body--text' },\n                        _react2.default.createElement(_Emoji2.default, { text: this.props.post.body })\n                    );\n                case \"photo\":\n                    return _react2.default.createElement('img', { onClick: this.openLightbox, className: 'wall_post__body--photo rounded', src: '/uploads/wall/photos/' + this.props.post.body });\n                case \"sound\":\n                    return _react2.default.createElement('audio', { onPlay: this.onPLay, className: 'wall_post__body--sound', controls: true, src: '/uploads/wall/sounds/' + this.props.post.body });\n                case \"video\":\n                    return _react2.default.createElement('video', { onPlay: this.onPLay, className: 'wall_post__body--video', controls: true, src: '/uploads/wall/videos/' + this.props.post.body });\n                case \"youtube\":\n                    return _react2.default.createElement(\n                        'button',\n                        { onClick: function onClick(e) {\n                                _this2.onYoutubeBtnClicked(e, _this2.props.post.id, _this2.props.post.body);\n                            },\n                            id: 'yt-btn-' + this.props.post.id, className: 'yt-btn fa fa-youtube', 'data-yid': this.props.post.body },\n                        _react2.default.createElement('img', { style: { width: \"80px\" }, alt: '[YouTube]', src: 'https://img.youtube.com/vi/' + this.props.post.body + '/0.jpg' })\n                    );\n                default:\n                    null;\n            }\n        }\n    }, {\n        key: 'getProfile',\n        value: function getProfile() {\n            var _this3 = this;\n\n            this.props.socket.emit(\"req\", (0, _helpers.enc)({\n                type: \"PROFILE_SHOW\",\n                data: { id: this.props.post.user.id }\n            }), function (res) {\n                res = (0, _helpers.dec)(res);\n                _this3.props.dispatch((0, _users.setRequestedUserAction)(_extends({}, res.user, { actions: res.actions, roles: res.roles, liked: res.liked })));\n                _this3.props.dispatch((0, _setProfileVisibilityAction.setProfileVisibility)(true));\n            });\n        }\n    }, {\n        key: 'like',\n        value: function like(e) {\n            var _this4 = this;\n\n            var id = e.target.dataset.id;\n            this.props.socket.emit(\"req\", (0, _helpers.enc)({\n                type: \"WALL_POST_COMMENT_LIKE\",\n                data: { id: id }\n            }), function (res) {\n                res = (0, _helpers.dec)(res);\n                if (typeof res == \"string\") return alert(res);\n                if ((typeof res === 'undefined' ? 'undefined' : _typeof(res)) == \"object\") {\n                    if (res.error === false) {\n                        var updatedComments = _this4.state.comments.map(function (comment) {\n                            if (comment.id == id) {\n                                comment.likes = ++comment.likes;\n                            }\n                            return comment;\n                        });\n                        _this4.setState(function () {\n                            return { comments: updatedComments };\n                        });\n                    }\n                }\n            });\n        }\n    }, {\n        key: 'remove',\n        value: function remove(e) {\n            var _this5 = this;\n\n            var id = e.target.dataset.id;\n            var postId = e.target.dataset.postId;\n            this.props.socket.emit(\"req\", (0, _helpers.enc)({\n                type: \"WALL_POST_COMMENT_REMOVE\",\n                data: { id: id, postId: postId }\n            }), function (res) {\n                res = (0, _helpers.dec)(res);\n                if (typeof res == \"string\") return alert(res);\n                if ((typeof res === 'undefined' ? 'undefined' : _typeof(res)) == \"object\") {\n                    if (res.error === false) {\n                        var updatedComments = _this5.state.comments.filter(function (comment) {\n                            return comment.id != id;\n                        });\n                        _this5.setState(function () {\n                            return { comments: updatedComments };\n                        });\n                    }\n                }\n            });\n        }\n    }, {\n        key: 'renderPostComment',\n        value: function renderPostComment(comment) {\n            return _react2.default.createElement(\n                'div',\n                { className: 'wall_comments__comment', key: comment.id },\n                _react2.default.createElement(\n                    'p',\n                    { onClick: this.getProfile, className: 'wall_comments__comment__avatar' },\n                    _react2.default.createElement('img', { className: 'radius border border-color', width: this.avatarWidth, height: this.avatarHeight, src: comment.user.avatar })\n                ),\n                _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(\n                        'h5',\n                        { className: 'wall_comments__comment__title' },\n                        _react2.default.createElement(_Username2.default, { user: comment.user })\n                    ),\n                    _react2.default.createElement(\n                        'h5',\n                        { className: 'wall_comments__comment__content' },\n                        _react2.default.createElement(_Emoji2.default, { text: comment.comment })\n                    )\n                ),\n                _react2.default.createElement(\n                    'button',\n                    { onClick: this.like, 'data-id': comment.id, className: 'wall_comments__comment__like fl btn btn-danger fa fa-heart' },\n                    ' ',\n                    comment.likes\n                ),\n                (this.props.mUser.wall_remove > 0 || this.props.mUser.reg_id == comment.user.reg_id || this.props.mUser.reg_id == comment.postOwnerId) && _react2.default.createElement('button', { onClick: this.remove, 'data-id': comment.id, 'data-post-id': comment.postId, className: 'wall_comments__comment__remove fl btn btn-danger fa fa-remove' }),\n                _react2.default.createElement(\n                    'span',\n                    { className: 'wall_comments__comment__time fr time', 'data-time': comment.time },\n                    (0, _helpers.timeAgo)(comment.time)\n                ),\n                _react2.default.createElement('div', { className: 'clear' })\n            );\n        }\n    }, {\n        key: 'scrollToBottom',\n        value: function scrollToBottom() {\n            var element = document.getElementById(\"wall_comments__scroll_area\");\n            if (element) {\n                element.scrollTop = element.scrollHeight - element.clientHeight;\n            }\n        }\n    }, {\n        key: 'sendComment',\n        value: function sendComment(e) {\n            var _this6 = this;\n\n            e.preventDefault();\n            var commentInput = e.target.comment;\n            var comment = commentInput.value.trim();\n            if (comment) {\n                this.setState(function () {\n                    return { isTextMessageSending: true };\n                });\n                this.props.socket.emit(\"req\", (0, _helpers.enc)({ type: \"ADD_WALL_POST_COMMENT\", data: { post_id: this.props.post.id, text: comment } }), function (res) {\n                    _this6.setState(function () {\n                        return { isTextMessageSending: false };\n                    });\n                    if (commentInput) commentInput.value = \"\";\n                    res = (0, _helpers.dec)(res);\n                    if (typeof res == \"string\") return alert(res);\n                    if ((typeof res === 'undefined' ? 'undefined' : _typeof(res)) == \"object\") {\n                        if (res.error === false) {\n                            res.comment.time = Date.now();\n                            _this6.setState(function () {\n                                return {\n                                    comments: [].concat(_toConsumableArray(_this6.state.comments), [res.comment])\n                                };\n                            });\n                            _this6.scrollToBottom();\n                        }\n                    }\n                });\n            }\n        }\n    }, {\n        key: 'openFacePicker',\n        value: function openFacePicker(e) {\n            this.props.dispatch((0, _setWallCommentsFacePickerVisibilityAction.setWallCommentsFacePickerVisibility)(true));\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this7 = this;\n\n            this.props.socket.emit(\"req\", (0, _helpers.enc)({ type: \"WALL_GET_POST_COMMENTS\", data: { post_id: this.props.post.id } }), function (res) {\n                res = (0, _helpers.dec)(res);\n                _this7.setState(function () {\n                    return { comments: res };\n                });\n                _this7.scrollToBottom();\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this8 = this;\n\n            return _react2.default.createElement(\n                _reactModal2.default,\n                {\n                    isOpen: this.props.isWallCommentsOpen,\n                    onAfterOpen: this.afterOpenModal,\n                    onRequestClose: this.closeModal,\n                    style: this.customStyles,\n                    contentLabel: '\\u062A\\u0639\\u0644\\u064A\\u0642\\u0627\\u062A \\u0627\\u0644\\u0645\\u0646\\u0634\\u0648\\u0631' },\n                _react2.default.createElement(\n                    'div',\n                    { id: 'wall_comments', style: { background: (0, _helpers.renderBg)(this.props.settings) } },\n                    _react2.default.createElement(\n                        'div',\n                        { onClick: this.closeModal, className: 'wall_comments__header modal-header label label-primary' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'modal-title' },\n                            _react2.default.createElement('img', { className: 'wall_comments__header__avatar', width: 25, height: 25, src: this.props.post.user.avatar, alt: '' }),\n                            _react2.default.createElement(\n                                'p',\n                                { className: 'wall_comments__header__name ellipsis' },\n                                this.props.post.user.icon && _react2.default.createElement('img', { src: this.props.post.user.icon, className: 'username__icon fl', style: { maxHeight: \"16px\" } }),\n                                _react2.default.createElement(\n                                    'span',\n                                    { style: { verticalAlign: \"middle\", fontSize: \"0.7rem\", display: \"inline-block\", marginLeft: \"2px\" } },\n                                    this.props.post.user.name\n                                )\n                            ),\n                            _react2.default.createElement(\n                                'button',\n                                { onClick: this.closeModal, className: 'btn btn-danger wall_comments__header__close' },\n                                '\\xD7'\n                            )\n                        ),\n                        _react2.default.createElement('div', { className: 'clear' })\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'wall_comments__post_body_area' },\n                        _react2.default.createElement(\n                            'h5',\n                            { style: { color: this.props.post.user.fontColor }, className: 'wall_post__body' },\n                            this.renderPostBody()\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'wall_comments__scroll_area', id: 'wall_comments__scroll_area' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'wall_comments__body modal-body' },\n                            this.state.comments.map(function (comment) {\n                                return _this8.renderPostComment(comment);\n                            })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'form',\n                        { onSubmit: this.sendComment, className: 'wall_comments__form' },\n                        _react2.default.createElement('img', { onClick: this.openFacePicker, className: 'wall_comments__form__face', src: '/images/smile.png', alt: 'smile', id: 'wall_comments__attach__face', width: '22', height: '22' }),\n                        _react2.default.createElement('input', { type: 'text', id: 'wall_comments__form__input', className: 'border-color wall_comments__form__input',\n                            name: 'comment', placeholder: '\\u0623\\u0643\\u062A\\u0628 \\u062A\\u0639\\u0644\\u064A\\u0642\\u0643 \\u0647\\u0646\\u0627', autoComplete: 'off', dir: 'rtl' }),\n                        _react2.default.createElement(\n                            'button',\n                            { disabled: this.state.isTextMessageSending, className: 'border-color fa fa-send btn btn-primary wall_comments__form__send' },\n                            '\\u0625\\u0631\\u0633\\u0627\\u0644'\n                        ),\n                        this.props.isFacePickerOpen && _react2.default.createElement(_EmojiPicker2.default, { type: 'wall-comments', input: '#wall_comments__form__input' })\n                    )\n                )\n            );\n        }\n    }]);\n\n    return WallComments;\n}(_react2.default.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n    return {\n        socket: state.socket,\n        settings: state.settings,\n        mUser: state.mUser,\n        isFacePickerOpen: state.isWallCommentsFacePickerOpen,\n        isWallCommentsOpen: state.isWallCommentsOpen,\n        post: state.wallCommentsPost\n    };\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps)(WallComments);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzY4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3Jlc291cmNlcy9hc3NldHMvcmVhY3QvY29tcG9uZW50cy9jaGF0L21vZGFscy9XYWxsQ29tbWVudHMuanM/Yjk5NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBSZWFjdE1vZGFsIGZyb20gJ3JlYWN0LW1vZGFsJztcbmltcG9ydCB7ZGVjLCBlbmMsIHJlbmRlckJnLCB0aW1lQWdvfSBmcm9tIFwiLi4vLi4vLi4vLi4vanMvaGVscGVyc1wiO1xuaW1wb3J0IHtzZXRXYWxsQ29tbWVudHNWaXNpYmlsaXR5fSBmcm9tIFwiLi4vLi4vLi4vLi4vcmVkdXgvYWN0aW9ucy9zZXRXYWxsQ29tbWVudHNWaXNpYmlsaXR5QWN0aW9uXCI7XG5pbXBvcnQgRW1vamlQaWNrZXIgZnJvbSBcIi4uLy4uL0Vtb2ppUGlja2VyXCI7XG5pbXBvcnQge3NldFdhbGxDb21tZW50c0ZhY2VQaWNrZXJWaXNpYmlsaXR5fSBmcm9tIFwiLi4vLi4vLi4vLi4vcmVkdXgvYWN0aW9ucy9zZXRXYWxsQ29tbWVudHNGYWNlUGlja2VyVmlzaWJpbGl0eUFjdGlvblwiO1xuaW1wb3J0IEVtb2ppIGZyb20gXCIuLi8uLi9FbW9qaVwiO1xuaW1wb3J0IHtzZXRSZXF1ZXN0ZWRVc2VyQWN0aW9ufSBmcm9tIFwiLi4vLi4vLi4vLi4vcmVkdXgvYWN0aW9ucy91c2Vyc1wiO1xuaW1wb3J0IHtzZXRQcm9maWxlVmlzaWJpbGl0eX0gZnJvbSBcIi4uLy4uLy4uLy4uL3JlZHV4L2FjdGlvbnMvc2V0UHJvZmlsZVZpc2liaWxpdHlBY3Rpb25cIjtcbmltcG9ydCBVc2VybmFtZSBmcm9tIFwiLi4vYm9keS9Vc2VybmFtZVwiO1xuXG5SZWFjdE1vZGFsLnNldEFwcEVsZW1lbnQoJyNhcHAnKTtcblxuY2xhc3MgV2FsbENvbW1lbnRzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5hdmF0YXJXaWR0aCA9IDMwO1xuICAgICAgICB0aGlzLmF2YXRhckhlaWdodCA9IDMwO1xuXG4gICAgICAgIHRoaXMuY3VzdG9tU3R5bGVzID0ge1xuICAgICAgICAgICAgY29udGVudCA6IHtcbiAgICAgICAgICAgICAgICB0b3AgICAgICAgICAgICAgICAgICAgOiAnMiUnLFxuICAgICAgICAgICAgICAgIGxlZnQgICAgICAgICAgICAgICAgICA6ICc1MCUnLFxuICAgICAgICAgICAgICAgIHJpZ2h0ICAgICAgICAgICAgICAgICA6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICBib3R0b20gICAgICAgICAgICAgICAgOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgbWF4V2lkdGggICAgICAgICAgICAgIDogJzM0MHB4JyxcbiAgICAgICAgICAgICAgICBwYWRkaW5nICAgICAgICAgICAgICAgOiBcIjBcIixcbiAgICAgICAgICAgICAgICBtYXJnaW5SaWdodCAgICAgICAgICAgOiAnLTUwJScsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgICAgICAgICAgICAgIDogJ3Vuc2V0JyxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0gICAgICAgICAgICAgOiAndHJhbnNsYXRlKC01MCUsIC0wJSknLFxuICAgICAgICAgICAgICAgIG1heEhlaWdodCAgICAgICAgICAgICA6ICc5NiUnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3ZlcmxheToge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwicmdiYSgwLCAwLCAwLCAwLjQpXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm9uWW91dHViZUJ0bkNsaWNrZWQgPSB0aGlzLm9uWW91dHViZUJ0bkNsaWNrZWQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZW5kZXJQb3N0Qm9keSA9IHRoaXMucmVuZGVyUG9zdEJvZHkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZW5kZXJQb3N0Q29tbWVudCA9IHRoaXMucmVuZGVyUG9zdENvbW1lbnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zY3JvbGxUb0JvdHRvbSA9IHRoaXMuc2Nyb2xsVG9Cb3R0b20uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hZnRlck9wZW5Nb2RhbCA9IHRoaXMuYWZ0ZXJPcGVuTW9kYWwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vcGVuRmFjZVBpY2tlciA9IHRoaXMub3BlbkZhY2VQaWNrZXIuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zZW5kQ29tbWVudCA9IHRoaXMuc2VuZENvbW1lbnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5jbG9zZU1vZGFsID0gdGhpcy5jbG9zZU1vZGFsLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZ2V0UHJvZmlsZSA9IHRoaXMuZ2V0UHJvZmlsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlbW92ZSA9IHRoaXMucmVtb3ZlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubGlrZSA9IHRoaXMubGlrZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7Y29tbWVudHM6IFtdLCBpc1RleHRNZXNzYWdlU2VuZGluZzogZmFsc2V9O1xuICAgIH1cblxuICAgIGFmdGVyT3Blbk1vZGFsKCkge1xuXG4gICAgfVxuXG4gICAgY2xvc2VNb2RhbCgpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChzZXRXYWxsQ29tbWVudHNWaXNpYmlsaXR5KGZhbHNlKSk7XG4gICAgfVxuXG4gICAgb25Zb3V0dWJlQnRuQ2xpY2tlZChlLCBwb3N0X2lkLCB5dF9pZCkge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICB2YXIgbGluayA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvXCIgKyB5dF9pZCArIFwiP2F1dG9wbGF5PTFcIjtcblxuICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ5dC1idG4tXCIrcG9zdF9pZCk7XG4gICAgICAgICAgICBpZihidXR0b24pIHtcbiAgICAgICAgICAgICAgICBidXR0b24uaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYWZ0ZXJlbmRcIiwgJzxpZnJhbWUgd2lkdGg9XCI5NSVcIiBzdHlsZT1cIm1heC13aWR0aDoyNDBweDtcIiBoZWlnaHQ9XCIyMDBcIiBzcmM9XCInICsgbGluayArICdcIiBmcmFtZWJvcmRlcj1cIjBcIiBhbGxvd2Z1bGxzY3JlZW4+PC9pZnJhbWU+PGJyIC8+Jyk7XG4gICAgICAgICAgICAgICAgYnV0dG9uLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gY2F0Y2goZSkge31cblxuICAgIH1cblxuICAgIHJlbmRlclBvc3RCb2R5KCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMucHJvcHMucG9zdC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJ3YWxsX3Bvc3RfX2JvZHktLXRleHRcIj48RW1vamkgdGV4dD17dGhpcy5wcm9wcy5wb3N0LmJvZHl9IC8+PC9zcGFuPjtcbiAgICAgICAgICAgIGNhc2UgXCJwaG90b1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiA8aW1nIG9uQ2xpY2s9e3RoaXMub3BlbkxpZ2h0Ym94fSBjbGFzc05hbWU9XCJ3YWxsX3Bvc3RfX2JvZHktLXBob3RvIHJvdW5kZWRcIiBzcmM9e2AvdXBsb2Fkcy93YWxsL3Bob3Rvcy8ke3RoaXMucHJvcHMucG9zdC5ib2R5fWB9IC8+O1xuICAgICAgICAgICAgY2FzZSBcInNvdW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxhdWRpbyBvblBsYXk9e3RoaXMub25QTGF5fSBjbGFzc05hbWU9XCJ3YWxsX3Bvc3RfX2JvZHktLXNvdW5kXCIgY29udHJvbHMgc3JjPXtgL3VwbG9hZHMvd2FsbC9zb3VuZHMvJHt0aGlzLnByb3BzLnBvc3QuYm9keX1gfT48L2F1ZGlvPjtcbiAgICAgICAgICAgIGNhc2UgXCJ2aWRlb1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiA8dmlkZW8gb25QbGF5PXt0aGlzLm9uUExheX0gY2xhc3NOYW1lPVwid2FsbF9wb3N0X19ib2R5LS12aWRlb1wiIGNvbnRyb2xzIHNyYz17YC91cGxvYWRzL3dhbGwvdmlkZW9zLyR7dGhpcy5wcm9wcy5wb3N0LmJvZHl9YH0+PC92aWRlbz47XG4gICAgICAgICAgICBjYXNlIFwieW91dHViZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiA8YnV0dG9uIG9uQ2xpY2s9eyhlKSA9PiB7dGhpcy5vbllvdXR1YmVCdG5DbGlja2VkKGUsIHRoaXMucHJvcHMucG9zdC5pZCwgdGhpcy5wcm9wcy5wb3N0LmJvZHkpfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17YHl0LWJ0bi0ke3RoaXMucHJvcHMucG9zdC5pZH1gfSBjbGFzc05hbWU9XCJ5dC1idG4gZmEgZmEteW91dHViZVwiIGRhdGEteWlkPXt0aGlzLnByb3BzLnBvc3QuYm9keX0+XG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3R5bGU9e3t3aWR0aDogXCI4MHB4XCJ9fSBhbHQ9XCJbWW91VHViZV1cIiBzcmM9e2BodHRwczovL2ltZy55b3V0dWJlLmNvbS92aS8ke3RoaXMucHJvcHMucG9zdC5ib2R5fS8wLmpwZ2B9IC8+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+O1xuICAgICAgICAgICAgZGVmYXVsdDogbnVsbFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0UHJvZmlsZSgpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5zb2NrZXQuZW1pdChcInJlcVwiLCBlbmMoe1xuICAgICAgICAgICAgdHlwZTogXCJQUk9GSUxFX1NIT1dcIixcbiAgICAgICAgICAgIGRhdGE6IHtpZDogdGhpcy5wcm9wcy5wb3N0LnVzZXIuaWR9XG4gICAgICAgIH0pLCAocmVzKSA9PiB7XG4gICAgICAgICAgICByZXMgPSBkZWMocmVzKTtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goc2V0UmVxdWVzdGVkVXNlckFjdGlvbih7Li4ucmVzLnVzZXIsIGFjdGlvbnM6IHJlcy5hY3Rpb25zLCByb2xlczogcmVzLnJvbGVzLCBsaWtlZDogcmVzLmxpa2VkfSkpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChzZXRQcm9maWxlVmlzaWJpbGl0eSh0cnVlKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGxpa2UoZSkge1xuICAgICAgICBjb25zdCBpZCA9IGUudGFyZ2V0LmRhdGFzZXQuaWQ7XG4gICAgICAgIHRoaXMucHJvcHMuc29ja2V0LmVtaXQoXCJyZXFcIiwgZW5jKHtcbiAgICAgICAgICAgIHR5cGU6IFwiV0FMTF9QT1NUX0NPTU1FTlRfTElLRVwiLFxuICAgICAgICAgICAgZGF0YToge2lkfVxuICAgICAgICB9KSwgKHJlcykgPT4ge1xuICAgICAgICAgICAgcmVzID0gZGVjKHJlcyk7XG4gICAgICAgICAgICBpZih0eXBlb2YgcmVzID09IFwic3RyaW5nXCIpIHJldHVybiBhbGVydChyZXMpO1xuICAgICAgICAgICAgaWYodHlwZW9mIHJlcyA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgaWYocmVzLmVycm9yID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkQ29tbWVudHMgPSB0aGlzLnN0YXRlLmNvbW1lbnRzLm1hcCgoY29tbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY29tbWVudC5pZCA9PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQubGlrZXMgPSArK2NvbW1lbnQubGlrZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tbWVudDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoKCkgPT4gKHtjb21tZW50czogdXBkYXRlZENvbW1lbnRzfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZW1vdmUoZSkge1xuICAgICAgICBjb25zdCBpZCA9IGUudGFyZ2V0LmRhdGFzZXQuaWQ7XG4gICAgICAgIGNvbnN0IHBvc3RJZCA9IGUudGFyZ2V0LmRhdGFzZXQucG9zdElkO1xuICAgICAgICB0aGlzLnByb3BzLnNvY2tldC5lbWl0KFwicmVxXCIsIGVuYyh7XG4gICAgICAgICAgICB0eXBlOiBcIldBTExfUE9TVF9DT01NRU5UX1JFTU9WRVwiLFxuICAgICAgICAgICAgZGF0YToge2lkLCBwb3N0SWR9XG4gICAgICAgIH0pLCAocmVzKSA9PiB7XG4gICAgICAgICAgICByZXMgPSBkZWMocmVzKTtcbiAgICAgICAgICAgIGlmKHR5cGVvZiByZXMgPT0gXCJzdHJpbmdcIikgcmV0dXJuIGFsZXJ0KHJlcyk7XG4gICAgICAgICAgICBpZih0eXBlb2YgcmVzID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZihyZXMuZXJyb3IgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRDb21tZW50cyA9IHRoaXMuc3RhdGUuY29tbWVudHMuZmlsdGVyKChjb21tZW50KSA9PiBjb21tZW50LmlkICE9IGlkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSgoKSA9PiAoe2NvbW1lbnRzOiB1cGRhdGVkQ29tbWVudHN9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlclBvc3RDb21tZW50KGNvbW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2FsbF9jb21tZW50c19fY29tbWVudFwiIGtleT17Y29tbWVudC5pZH0+XG4gICAgICAgICAgICAgICAgPHAgb25DbGljaz17dGhpcy5nZXRQcm9maWxlfSBjbGFzc05hbWU9XCJ3YWxsX2NvbW1lbnRzX19jb21tZW50X19hdmF0YXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9XCJyYWRpdXMgYm9yZGVyIGJvcmRlci1jb2xvclwiIHdpZHRoPXt0aGlzLmF2YXRhcldpZHRofSBoZWlnaHQ9e3RoaXMuYXZhdGFySGVpZ2h0fSBzcmM9e2NvbW1lbnQudXNlci5hdmF0YXJ9IC8+XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzc05hbWU9XCJ3YWxsX2NvbW1lbnRzX19jb21tZW50X190aXRsZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFVzZXJuYW1lIHVzZXI9e2NvbW1lbnQudXNlcn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9oNT5cbiAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT1cIndhbGxfY29tbWVudHNfX2NvbW1lbnRfX2NvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxFbW9qaSB0ZXh0PXtjb21tZW50LmNvbW1lbnR9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvaDU+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLmxpa2V9IGRhdGEtaWQ9e2NvbW1lbnQuaWR9IGNsYXNzTmFtZT1cIndhbGxfY29tbWVudHNfX2NvbW1lbnRfX2xpa2UgZmwgYnRuIGJ0bi1kYW5nZXIgZmEgZmEtaGVhcnRcIj4ge2NvbW1lbnQubGlrZXN9PC9idXR0b24+XG5cbiAgICAgICAgICAgICAgICB7KHRoaXMucHJvcHMubVVzZXIud2FsbF9yZW1vdmUgPiAwIHx8IHRoaXMucHJvcHMubVVzZXIucmVnX2lkID09IGNvbW1lbnQudXNlci5yZWdfaWQgfHwgdGhpcy5wcm9wcy5tVXNlci5yZWdfaWQgPT0gY29tbWVudC5wb3N0T3duZXJJZClcbiAgICAgICAgICAgICAgICAmJiA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMucmVtb3ZlfSBkYXRhLWlkPXtjb21tZW50LmlkfSBkYXRhLXBvc3QtaWQ9e2NvbW1lbnQucG9zdElkfSBjbGFzc05hbWU9XCJ3YWxsX2NvbW1lbnRzX19jb21tZW50X19yZW1vdmUgZmwgYnRuIGJ0bi1kYW5nZXIgZmEgZmEtcmVtb3ZlXCI+PC9idXR0b24+fVxuXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwid2FsbF9jb21tZW50c19fY29tbWVudF9fdGltZSBmciB0aW1lXCIgZGF0YS10aW1lPXtjb21tZW50LnRpbWV9Pnt0aW1lQWdvKGNvbW1lbnQudGltZSl9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xlYXJcIj48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHNjcm9sbFRvQm90dG9tKCkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2FsbF9jb21tZW50c19fc2Nyb2xsX2FyZWFcIik7XG4gICAgICAgIGlmKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc2Nyb2xsVG9wID0gZWxlbWVudC5zY3JvbGxIZWlnaHQgLSBlbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlbmRDb21tZW50KGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBjb21tZW50SW5wdXQgPSBlLnRhcmdldC5jb21tZW50O1xuICAgICAgICBjb25zdCBjb21tZW50ID0gY29tbWVudElucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgICAgaWYoY29tbWVudCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSgoKSA9PiAoe2lzVGV4dE1lc3NhZ2VTZW5kaW5nOiB0cnVlfSkpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5zb2NrZXQuZW1pdChcInJlcVwiLCBlbmMoe3R5cGU6IFwiQUREX1dBTExfUE9TVF9DT01NRU5UXCIsIGRhdGE6IHtwb3N0X2lkOiB0aGlzLnByb3BzLnBvc3QuaWQsIHRleHQ6IGNvbW1lbnR9fSksIChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKCgpID0+ICh7aXNUZXh0TWVzc2FnZVNlbmRpbmc6IGZhbHNlfSkpO1xuICAgICAgICAgICAgICAgIGlmKGNvbW1lbnRJbnB1dCkgY29tbWVudElucHV0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgICAgICByZXMgPSBkZWMocmVzKTtcbiAgICAgICAgICAgICAgICBpZih0eXBlb2YgcmVzID09IFwic3RyaW5nXCIpIHJldHVybiBhbGVydChyZXMpO1xuICAgICAgICAgICAgICAgIGlmKHR5cGVvZiByZXMgPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICBpZihyZXMuZXJyb3IgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuY29tbWVudC50aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoKCkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50czogWy4uLnRoaXMuc3RhdGUuY29tbWVudHMsIHJlcy5jb21tZW50XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG9Cb3R0b20oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb3BlbkZhY2VQaWNrZXIoZSkge1xuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHNldFdhbGxDb21tZW50c0ZhY2VQaWNrZXJWaXNpYmlsaXR5KHRydWUpKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5zb2NrZXQuZW1pdChcInJlcVwiLCBlbmMoe3R5cGU6IFwiV0FMTF9HRVRfUE9TVF9DT01NRU5UU1wiLCBkYXRhOiB7cG9zdF9pZDogdGhpcy5wcm9wcy5wb3N0LmlkfX0pLCAocmVzKSA9PiB7XG4gICAgICAgICAgICByZXMgPSBkZWMocmVzKTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoKCkgPT4gKHtjb21tZW50czogcmVzfSkpO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxUb0JvdHRvbSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8UmVhY3RNb2RhbFxuICAgICAgICAgICAgICAgIGlzT3Blbj17dGhpcy5wcm9wcy5pc1dhbGxDb21tZW50c09wZW59XG4gICAgICAgICAgICAgICAgb25BZnRlck9wZW49e3RoaXMuYWZ0ZXJPcGVuTW9kYWx9XG4gICAgICAgICAgICAgICAgb25SZXF1ZXN0Q2xvc2U9e3RoaXMuY2xvc2VNb2RhbH1cbiAgICAgICAgICAgICAgICBzdHlsZT17dGhpcy5jdXN0b21TdHlsZXN9XG4gICAgICAgICAgICAgICAgY29udGVudExhYmVsPVwi2KrYudmE2YrZgtin2Kog2KfZhNmF2YbYtNmI2LFcIj5cblxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ3YWxsX2NvbW1lbnRzXCIgc3R5bGU9e3tiYWNrZ3JvdW5kOiByZW5kZXJCZyh0aGlzLnByb3BzLnNldHRpbmdzKX19PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgb25DbGljaz17dGhpcy5jbG9zZU1vZGFsfSBjbGFzc05hbWU9XCJ3YWxsX2NvbW1lbnRzX19oZWFkZXIgbW9kYWwtaGVhZGVyIGxhYmVsIGxhYmVsLXByaW1hcnlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzTmFtZT1cIndhbGxfY29tbWVudHNfX2hlYWRlcl9fYXZhdGFyXCIgd2lkdGg9ezI1fSBoZWlnaHQ9ezI1fSBzcmM9e3RoaXMucHJvcHMucG9zdC51c2VyLmF2YXRhcn0gYWx0PVwiXCIvPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwid2FsbF9jb21tZW50c19faGVhZGVyX19uYW1lIGVsbGlwc2lzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnBvc3QudXNlci5pY29uICYmIDxpbWcgc3JjPXt0aGlzLnByb3BzLnBvc3QudXNlci5pY29ufSBjbGFzc05hbWU9XCJ1c2VybmFtZV9faWNvbiBmbFwiIHN0eWxlPXt7bWF4SGVpZ2h0OiBcIjE2cHhcIn19IC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17e3ZlcnRpY2FsQWxpZ246IFwibWlkZGxlXCIsIGZvbnRTaXplOiBcIjAuN3JlbVwiLCBkaXNwbGF5OiBcImlubGluZS1ibG9ja1wiLCBtYXJnaW5MZWZ0OiBcIjJweFwifX0+e3RoaXMucHJvcHMucG9zdC51c2VyLm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17dGhpcy5jbG9zZU1vZGFsfSBjbGFzc05hbWU9XCJidG4gYnRuLWRhbmdlciB3YWxsX2NvbW1lbnRzX19oZWFkZXJfX2Nsb3NlXCI+JnRpbWVzOzwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2FsbF9jb21tZW50c19fcG9zdF9ib2R5X2FyZWFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBzdHlsZT17e2NvbG9yOiB0aGlzLnByb3BzLnBvc3QudXNlci5mb250Q29sb3J9fSBjbGFzc05hbWU9XCJ3YWxsX3Bvc3RfX2JvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJQb3N0Qm9keSgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9oNT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3YWxsX2NvbW1lbnRzX19zY3JvbGxfYXJlYVwiIGlkPVwid2FsbF9jb21tZW50c19fc2Nyb2xsX2FyZWFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2FsbF9jb21tZW50c19fYm9keSBtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuY29tbWVudHMubWFwKChjb21tZW50KSA9PiB0aGlzLnJlbmRlclBvc3RDb21tZW50KGNvbW1lbnQpKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5zZW5kQ29tbWVudH0gY2xhc3NOYW1lPVwid2FsbF9jb21tZW50c19fZm9ybVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBvbkNsaWNrPXt0aGlzLm9wZW5GYWNlUGlja2VyfSBjbGFzc05hbWU9XCJ3YWxsX2NvbW1lbnRzX19mb3JtX19mYWNlXCIgc3JjPVwiL2ltYWdlcy9zbWlsZS5wbmdcIiBhbHQ9XCJzbWlsZVwiIGlkPVwid2FsbF9jb21tZW50c19fYXR0YWNoX19mYWNlXCIgd2lkdGg9XCIyMlwiIGhlaWdodD1cIjIyXCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJ3YWxsX2NvbW1lbnRzX19mb3JtX19pbnB1dFwiIGNsYXNzTmFtZT1cImJvcmRlci1jb2xvciB3YWxsX2NvbW1lbnRzX19mb3JtX19pbnB1dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImNvbW1lbnRcIiBwbGFjZWhvbGRlcj1cItij2YPYqtioINiq2LnZhNmK2YLZgyDZh9mG2KdcIiBhdXRvQ29tcGxldGU9XCJvZmZcIiBkaXI9XCJydGxcIi8+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNUZXh0TWVzc2FnZVNlbmRpbmd9IGNsYXNzTmFtZT1cImJvcmRlci1jb2xvciBmYSBmYS1zZW5kIGJ0biBidG4tcHJpbWFyeSB3YWxsX2NvbW1lbnRzX19mb3JtX19zZW5kXCI+2KXYsdiz2KfZhDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pc0ZhY2VQaWNrZXJPcGVuICYmIDxFbW9qaVBpY2tlciB0eXBlPVwid2FsbC1jb21tZW50c1wiIGlucHV0PVwiI3dhbGxfY29tbWVudHNfX2Zvcm1fX2lucHV0XCIgLz59XG4gICAgICAgICAgICAgICAgICAgIDwvZm9ybT5cblxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8L1JlYWN0TW9kYWw+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGUpID0+ICh7XG4gICAgc29ja2V0OiBzdGF0ZS5zb2NrZXQsXG4gICAgc2V0dGluZ3M6IHN0YXRlLnNldHRpbmdzLFxuICAgIG1Vc2VyOiBzdGF0ZS5tVXNlcixcbiAgICBpc0ZhY2VQaWNrZXJPcGVuOiBzdGF0ZS5pc1dhbGxDb21tZW50c0ZhY2VQaWNrZXJPcGVuLFxuICAgIGlzV2FsbENvbW1lbnRzT3Blbjogc3RhdGUuaXNXYWxsQ29tbWVudHNPcGVuLFxuICAgIHBvc3Q6IHN0YXRlLndhbGxDb21tZW50c1Bvc3QsXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMpKFdhbGxDb21tZW50cyk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9yZWFjdC9jb21wb25lbnRzL2NoYXQvbW9kYWxzL1dhbGxDb21tZW50cy5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFDQTtBQURBO0FBYkE7QUFDQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5DQTtBQW9DQTtBQUNBOzs7QUFDQTs7O0FBSUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUFBO0FBZEE7QUFnQkE7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBSkE7QUFRQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQWxCQTtBQXFCQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFGQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFSQTtBQVVBO0FBWEE7QUFjQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBREE7QUFNQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFEQTtBQURBO0FBTUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBUEE7QUE1QkE7QUFQQTtBQWlEQTs7OztBQS9QQTtBQUNBO0FBaVFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQUFBO0FBQ0E7QUFRQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///368\n");

/***/ })

});